<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<link rel='stylesheet' href='/stylesheets/style.css'/>

<label for="text"></label>
<textarea id="text"></textarea>

<script>
    io = io.connect();
    io.emit('ready');

    io.on('announce', function() {
        io.emit('update', $('#text').val())
    });

    io.on('update', function(data) {
        $('#text').val(data.message)
    });

    $('#text').bind('input', function() {
        io.emit('update', $('#text').val())
    })
</script>